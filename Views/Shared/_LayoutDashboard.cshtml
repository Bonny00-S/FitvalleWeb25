<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - FITVALLE</title>
    <!-- Favicon para mayoría de navegadores -->
    <link rel="icon" type="image/jpeg" href="/images/LogoFITNESS.jpeg">
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-white h-screen flex flex-col">

    <header class="bg-[#000000] flex justify-between items-center px-6 py-3 shadow text-white">
        <!-- LOGO -->
        <div class="flex items-center gap-3 hover:scale-105 transition duration-300 cursor-pointer">
            <img src="/images/LogoFITNESS.jpeg" alt="Logo" class="w-10 h-10 rounded-full">
            <span class="text-lg font-bold">FITVALLE</span>
        </div>

        <!-- Íconos -->
        <div class="flex items-center gap-6 relative">
            <!-- Notificaciones -->
            <i class="fa fa-bell cursor-pointer hover:text-yellow-400 transition duration-300"></i>

            <!-- Configuración con menú -->
            <div class="relative">
                <i id="configIcon" class="fa fa-cog cursor-pointer hover:text-yellow-400 transition duration-500"></i>

                <!-- Menú desplegable -->
                <div id="configMenu"
                     class="hidden absolute right-0 mt-2 w-44 bg-white text-black rounded-md shadow-lg z-50">
                    <ul class="py-2">
                        <li>
                            <a href=""
                               class="block px-4 py-2 hover:bg-gray-100 transition duration-200">
                                Ver perfil
                            </a>
                        </li>
                        <li>
                            <a asp-action="ChangePassword" asp-controller="Auth"
                               class="block px-4 py-2 hover:bg-gray-100 transition duration-200">
                                Cambiar contraseña
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Usuario -->
            <div class="flex items-center gap-3 bg-neutral-900 hover:bg-[#7e092b] px-4 py-2 rounded-xl transition duration-300 border border-[#a10d3a]/40 shadow-md">
                <div class="flex items-center gap-3">
                    <!-- Nombre de usuario -->
                    <span class="text-white font-medium">@User.Identity?.Name</span>

                    <!-- Ícono de usuario con fondo circular claro -->
                    <div class="relative w-10 h-10 rounded-full bg-gradient-to-br from-gray-200 to-gray-400 p-[2px]">
                        <div class="bg-black w-full h-full rounded-full flex items-center justify-center">
                            <img src="/images/iconUser.png" alt="Usuario"
                                 class="w-8 h-8 rounded-full object-cover hover:scale-110 transition duration-300">
                        </div>
                    </div>
                </div>

                <!-- Botón Logout -->
                <form asp-action="Logout" asp-controller="Auth" method="post" class="inline ml-2">
                    <button type="submit"
                            class="bg-[#a10d3a] hover:bg-[#8b0b32] text-white px-4 py-2 rounded-md font-semibold shadow-md
                       transition transform hover:scale-105 duration-300">
                        Cerrar sesión
                    </button>
                </form>
            </div>

        </div>
    </header>
    <script>
        const configIcon = document.getElementById("configIcon");
        const configMenu = document.getElementById("configMenu");

        configIcon.addEventListener("click", () => {
            configMenu.classList.toggle("hidden");
        });

        // Cierra el menú si se hace clic fuera
        document.addEventListener("click", (e) => {
            if (!configMenu.contains(e.target) && !configIcon.contains(e.target)) {
                configMenu.classList.add("hidden");
            }
        });
    </script>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="flex flex-1">

        <!-- SIDEBAR -->
        <aside class="w-60 bg-white text-black shadow-lg flex flex-col">
            <nav class="flex-1">
                <ul class="space-y-2 p-4">
                    <li>
                        <a asp-action="Dashboard" asp-controller="Admin"
                           class="flex items-center justify-between px-2 py-2 rounded hover:bg-gray-200
                                  transition duration-300 hover:translate-x-1">
                            <span class="flex items-center gap-2">
                                <i class="fa fa-home"></i> Inicio
                            </span>
                        </a>
                    </li>
                    <li>
                        <a asp-action="ManageUsers" asp-controller="Admin"
                           class="flex items-center justify-between px-2 py-2 rounded hover:bg-gray-200
                                  transition duration-300 hover:translate-x-1">
                            <span class="flex items-center gap-2">
                                <i class="fa fa-users"></i> Administrar Usuarios
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- CONTENIDO DINÁMICO -->
        <main class="flex-1 bg-[#a10d3a] p-6">
            @RenderBody()
        </main>
    </div>
    @RenderSection("Scripts", required: false)
</body>
</html>
