<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - FITVALLE</title>

    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="/images/LogoFITNESS.jpeg">

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- Tema Fitvalle -->
    <link href="~/css/site.css" rel="stylesheet" />
</head>

<body class="bg-[var(--color-background)] text-[var(--color-text-primary)] min-h-screen flex flex-col font-[Poppins]">

    <!-- HEADER -->
    <header class="header-fitvalle flex justify-between items-center px-6 py-4 shadow-lg">
        <div class="flex items-center gap-3">
            <img src="/images/LogoFITNESS.jpeg" alt="Logo" class="w-10 h-10 rounded-full border-2 border-[var(--color-primary)]">
            <span class="text-xl font-[Poppins] font-bold tracking-wide">FITVALLE ADMIN</span>
        </div>

        <div class="flex items-center gap-6">
           @*  <i class="fa-solid fa-bell text-[var(--color-text-secondary)] hover:text-[var(--color-warning)] cursor-pointer transition"></i> *@

            <div class="relative group">
                <i class="fa-solid fa-gear text-[var(--color-text-secondary)] hover:text-[var(--color-warning)] cursor-pointer transition"></i>
                <div class="hidden group-hover:block absolute right-0 mt-2 w-48 bg-[var(--color-surface)] text-white rounded-lg shadow-lg z-50 border border-[var(--color-primary)]/40">
                    <ul class="py-2 text-sm">
                        <li><a href="#" class="block px-4 py-2 hover:bg-[var(--color-primary)] transition">Ver perfil</a></li>
                        <li><a asp-action="ChangePassword" asp-controller="Auth" class="block px-4 py-2 hover:bg-[var(--color-primary)] transition">Cambiar contraseña</a></li>
                    </ul>
                </div>
            </div>

            <div class="flex items-center gap-3 bg-[var(--color-surface)] px-4 py-2 rounded-xl border border-[var(--color-primary)]/40 shadow-md">
                <span class="font-semibold">@User.Identity?.Name</span>
                <div class="w-10 h-10 bg-[var(--color-primary)] rounded-full flex items-center justify-center overflow-hidden">
                    <img src="/images/iconUser.png" alt="Usuario" class="w-8 h-8 object-cover">
                </div>
                <form asp-action="Logout" asp-controller="Auth" method="post">
                    <button type="submit" class="btn-primary">Cerrar sesión</button>
                </form>
            </div>
        </div>
    </header>

    <!-- CONTENIDO PRINCIPAL -->
    <div class="flex flex-1">

        <!-- SIDEBAR -->
        <aside class="sidebar-fitvalle w-64 p-4 shadow-xl border-r border-[var(--color-primary)]/20">
            <nav class="space-y-2">
                <a asp-action="Dashboard" asp-controller="Admin" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[var(--color-primary)]/20 transition">
                    <i class="fa-solid fa-house text-[var(--color-primary)]"></i> <span>Inicio</span>
                </a>
                <a asp-action="ManageUsers" asp-controller="Admin" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[var(--color-primary)]/20 transition">
                    <i class="fa-solid fa-users-gear text-[var(--color-primary)]"></i> <span>Administrar Usuarios</span>
                </a>
                <a asp-action="Index" asp-controller="Exercise" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[var(--color-primary)]/20 transition">
                    <i class="fa-solid fa-dumbbell text-[var(--color-primary)]"></i> <span>Administrar Ejercicios</span>
                </a>
            </nav>
        </aside>

        <!-- MAIN -->
        <main class="flex-1 p-8 bg-[var(--color-background)]">
            @RenderBody()
        </main>
    </div>

    @RenderSection("Scripts", required: false)
</body>
<script src="https://unpkg.com/lucide@latest"></script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        lucide.createIcons();
    });
</script>

</html>
